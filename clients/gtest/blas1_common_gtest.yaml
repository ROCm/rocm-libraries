---
include: rocblas_common.yaml
include: known_bugs.yaml

Definitions:
  - &N_range
    - [ -1, 0, 5, 10, 500, 1000, 1024, 1025, 7111, 10000, 33792 ]

  - &incx_incy_range_small
    - { incx: 1, incy: 1 }
    - { incx: -3, incy: -3 }

  - &alpha_beta_range_small
    - { alpha:  0.5, beta:  0.5 }


Tests:

# all functions bad arg
# for bad_arg no arguments should be used by test code
  - name: blas1_bad_arg
    category: quick
    api: [ C, FORTRAN ]
    function:
      - nrm2_bad_arg:  *single_double_precisions_complex_real
      - nrm2_batched_bad_arg:  *single_double_precisions_complex_real
      - nrm2_strided_batched_bad_arg:  *single_double_precisions_complex_real
      - nrm2_ex_bad_arg: *nrm2_ex_precisions
      - nrm2_batched_ex_bad_arg: *nrm2_ex_precisions
      - nrm2_strided_batched_ex_bad_arg: *nrm2_ex_precisions
      - asum_bad_arg:  *single_double_precisions_complex_real
      - asum_batched_bad_arg:  *single_double_precisions_complex_real
      - asum_strided_batched_bad_arg:  *single_double_precisions_complex_real
      - iamax_bad_arg: *single_double_precisions_complex_real
      - iamax_batched_bad_arg: *single_double_precisions_complex_real
      - iamax_strided_batched_bad_arg: *single_double_precisions_complex_real
      - iamin_bad_arg: *single_double_precisions_complex_real
      - iamin_batched_bad_arg: *single_double_precisions_complex_real
      - iamin_strided_batched_bad_arg: *single_double_precisions_complex_real
      - axpy_bad_arg: *half_single_precisions_complex_real
      - axpy_ex_bad_arg: *bfloat_half_single_double_complex_real_precisions
      - axpy_batched_bad_arg: *half_single_precisions_complex_real
      - axpy_batched_ex_bad_arg: *bfloat_half_single_double_complex_real_precisions
      - axpy_strided_batched_bad_arg: *half_single_precisions_complex_real
      - axpy_strided_batched_ex_bad_arg: *bfloat_half_single_double_complex_real_precisions
      - copy_bad_arg:  *single_double_precisions_complex_real
      - copy_batched_bad_arg:  *single_double_precisions_complex_real
      - copy_strided_batched_bad_arg:  *single_double_precisions_complex_real
      - dot_bad_arg:   *half_bfloat_single_double_complex_real_precisions
      - dot_batched_bad_arg:   *half_bfloat_single_double_complex_real_precisions
      - dot_strided_batched_bad_arg:   *half_bfloat_single_double_complex_real_precisions
      - dotc_bad_arg:  *single_double_precisions_complex
      - dotc_batched_bad_arg:   *half_bfloat_single_double_complex_real_precisions
      - dotc_strided_batched_bad_arg:   *half_bfloat_single_double_complex_real_precisions
      - dot_ex: *dot_ex_precisions
      - dotc_ex: *dot_ex_precisions
      - dot_batched_ex: *dot_ex_precisions
      - dotc_batched_ex: *dot_ex_precisions
      - dot_strided_batched_ex: *dot_ex_precisions
      - dotc_strided_batched_ex: *dot_ex_precisions
      - scal_bad_arg:  *single_double_precisions_complex_real
      - scal_bad_arg:  *scal_single_double_complex_real_alpha_complex_out
      - scal_ex_bad_arg: *scal_ex_bfloat_half_single_double_complex_real_precisions
      - scal_ex_bad_arg: *scal_ex_single_double_complex_real_alpha_complex_out
      - scal_batched_bad_arg:  *single_double_precisions_complex_real
      - scal_batched_bad_arg:  *scal_single_double_complex_real_alpha_complex_out
      - scal_batched_ex_bad_arg: *scal_ex_bfloat_half_single_double_complex_real_precisions
      - scal_batched_ex_bad_arg: *scal_ex_single_double_complex_real_alpha_complex_out
      - scal_strided_batched_bad_arg:  *single_double_precisions_complex_real
      - scal_strided_batched_bad_arg:  *scal_single_double_complex_real_alpha_complex_out
      - scal_strided_batched_ex_bad_arg: *scal_ex_bfloat_half_single_double_complex_real_precisions
      - scal_strided_batched_ex_bad_arg: *scal_ex_single_double_complex_real_alpha_complex_out
      - rotg_bad_arg:  *rotg_precisions
      - rotm_bad_arg:  *single_double_precisions
      - rotmg_bad_arg: *single_double_precisions
      - rotg_batched_bad_arg:  *rotg_precisions
      - rotm_batched_bad_arg:  *single_double_precisions
      - rotmg_batched_bad_arg: *single_double_precisions
      - rotg_strided_batched_bad_arg:  *rotg_precisions
      - rotm_strided_batched_bad_arg:  *single_double_precisions
      - rotmg_strided_batched_bad_arg: *single_double_precisions
      - rot_bad_arg:  *rot_precisions
      - rot_ex_bad_arg:  *rot_ex_precisions
      - rot_batched_bad_arg:  *rot_precisions
      - rot_batched_ex_bad_arg:  *rot_ex_precisions
      - rot_strided_batched_bad_arg:  *rot_precisions
      - rot_strided_batched_ex_bad_arg:  *rot_ex_precisions
      - swap_bad_arg:  *single_double_precisions_complex_real
      - swap_batched_bad_arg:  *single_double_precisions_complex_real
      - swap_strided_batched_bad_arg:  *single_double_precisions_complex_real

# TODO merge with non _64
  - name: blas1_bad_arg_64
    category: nightly
    api: [ FORTRAN_64 ]
    function:
      - nrm2_bad_arg:  *single_double_precisions_complex_real
      - nrm2_batched_bad_arg:  *single_double_precisions_complex_real
      - nrm2_strided_batched_bad_arg:  *single_double_precisions_complex_real
      - nrm2_ex_bad_arg: *nrm2_ex_precisions
      - nrm2_batched_ex_bad_arg: *nrm2_ex_precisions
      - nrm2_strided_batched_ex_bad_arg: *nrm2_ex_precisions
      - asum_bad_arg:  *single_double_precisions_complex_real
      - asum_batched_bad_arg:  *single_double_precisions_complex_real
      - asum_strided_batched_bad_arg:  *single_double_precisions_complex_real
      - iamax_bad_arg: *single_double_precisions_complex_real
      - iamax_batched_bad_arg: *single_double_precisions_complex_real
      - iamax_strided_batched_bad_arg: *single_double_precisions_complex_real
      - iamin_bad_arg: *single_double_precisions_complex_real
      - iamin_batched_bad_arg: *single_double_precisions_complex_real
      - iamin_strided_batched_bad_arg: *single_double_precisions_complex_real
      - axpy_bad_arg: *half_single_precisions_complex_real
      - axpy_ex_bad_arg: *bfloat_half_single_double_complex_real_precisions
      - axpy_batched_bad_arg: *half_single_precisions_complex_real
      - axpy_batched_ex_bad_arg: *bfloat_half_single_double_complex_real_precisions
      - axpy_strided_batched_bad_arg: *half_single_precisions_complex_real
      - axpy_strided_batched_ex_bad_arg: *bfloat_half_single_double_complex_real_precisions
      - copy_bad_arg:  *single_double_precisions_complex_real
      - copy_batched_bad_arg:  *single_double_precisions_complex_real
      - copy_strided_batched_bad_arg:  *single_double_precisions_complex_real
      - dot_bad_arg:   *half_bfloat_single_double_complex_real_precisions
      - dot_batched_bad_arg:   *half_bfloat_single_double_complex_real_precisions
      - dot_strided_batched_bad_arg:   *half_bfloat_single_double_complex_real_precisions
      - dotc_bad_arg:  *single_double_precisions_complex
      - dotc_batched_bad_arg:   *half_bfloat_single_double_complex_real_precisions
      - dotc_strided_batched_bad_arg:   *half_bfloat_single_double_complex_real_precisions
      - dot_ex: *dot_ex_precisions
      - dotc_ex: *dot_ex_precisions
      - dot_batched_ex: *dot_ex_precisions
      - dotc_batched_ex: *dot_ex_precisions
      - dot_strided_batched_ex: *dot_ex_precisions
      - dotc_strided_batched_ex: *dot_ex_precisions
      - scal_bad_arg:  *single_double_precisions_complex_real
      - scal_bad_arg:  *scal_single_double_complex_real_alpha_complex_out
      - scal_ex_bad_arg: *scal_ex_bfloat_half_single_double_complex_real_precisions
      - scal_ex_bad_arg: *scal_ex_single_double_complex_real_alpha_complex_out
      - scal_batched_bad_arg:  *single_double_precisions_complex_real
      - scal_batched_bad_arg:  *scal_single_double_complex_real_alpha_complex_out
      - scal_batched_ex_bad_arg: *scal_ex_bfloat_half_single_double_complex_real_precisions
      - scal_batched_ex_bad_arg: *scal_ex_single_double_complex_real_alpha_complex_out
      - scal_strided_batched_bad_arg:  *single_double_precisions_complex_real
      - scal_strided_batched_bad_arg:  *scal_single_double_complex_real_alpha_complex_out
      - scal_strided_batched_ex_bad_arg: *scal_ex_bfloat_half_single_double_complex_real_precisions
      - scal_strided_batched_ex_bad_arg: *scal_ex_single_double_complex_real_alpha_complex_out
      - rotg_bad_arg:  *rotg_precisions
      - rotm_bad_arg:  *single_double_precisions
      - rotmg_bad_arg: *single_double_precisions
      - rotg_batched_bad_arg:  *rotg_precisions
      - rotm_batched_bad_arg:  *single_double_precisions
      - rotmg_batched_bad_arg: *single_double_precisions
      - rotg_strided_batched_bad_arg:  *rotg_precisions
      - rotm_strided_batched_bad_arg:  *single_double_precisions
      - rotmg_strided_batched_bad_arg: *single_double_precisions
      - rot_bad_arg:  *rot_precisions
      - rot_ex_bad_arg:  *rot_ex_precisions
      - rot_batched_bad_arg:  *rot_precisions
      - rot_batched_ex_bad_arg:  *rot_ex_precisions
      - rot_strided_batched_bad_arg:  *rot_precisions
      - rot_strided_batched_ex_bad_arg:  *rot_ex_precisions
      - swap_bad_arg:  *single_double_precisions_complex_real
      - swap_batched_bad_arg:  *single_double_precisions_complex_real
      - swap_strided_batched_bad_arg:  *single_double_precisions_complex_real

# all functions NaN_check
  - name: blas1_nan_check
    category: pre_checkin
    N: [ 5 ]
    batch_count: [ 3 ]
    incx: [ 1, 2 ]
    incy: [ 2, 1 ]
    alpha: .NaN
    stride_scale: [ 1 ]
    function:
      - nrm2:  *single_double_precisions_complex_real
      - nrm2_batched:  *single_double_precisions_complex_real
      - nrm2_strided_batched:  *single_double_precisions_complex_real
      - nrm2_ex: *nrm2_ex_precisions
      - nrm2_batched_ex: *nrm2_ex_precisions
      - nrm2_strided_batched_ex: *nrm2_ex_precisions
      - asum:  *single_double_precisions_complex_real
      - asum_batched:  *single_double_precisions_complex_real
      - asum_strided_batched:  *single_double_precisions_complex_real
      - iamax: *single_double_precisions_complex_real
      - iamax_batched: *single_double_precisions_complex_real
      - iamax_strided_batched: *single_double_precisions_complex_real
      - iamin: *single_double_precisions_complex_real
      - iamin_batched: *single_double_precisions_complex_real
      - iamin_strided_batched: *single_double_precisions_complex_real
      - axpy:  *half_single_precisions_complex_real
      - axpy_batched: *half_single_precisions_complex_real
      - axpy_strided_batched: *half_single_precisions_complex_real
      - axpy_ex: *bfloat_half_single_double_complex_real_precisions
      - axpy_batched_ex: *bfloat_half_single_double_complex_real_precisions
      - axpy_strided_batched_ex: *bfloat_half_single_double_complex_real_precisions
      - copy:  *single_double_precisions_complex_real
      - copy_batched:  *single_double_precisions_complex_real
      - copy_strided_batched:  *single_double_precisions_complex_real
      - dot:   *half_bfloat_single_double_complex_real_precisions
      - dot_batched:   *half_bfloat_single_double_complex_real_precisions
      - dot_strided_batched:   *half_bfloat_single_double_complex_real_precisions
      - dotc:  *single_double_precisions_complex
      - dotc_batched:   *half_bfloat_single_double_complex_real_precisions
      - dotc_strided_batched:   *half_bfloat_single_double_complex_real_precisions
      - dot_ex: *dot_ex_precisions
      - dotc_ex: *dot_ex_precisions
      - dot_batched_ex: *dot_ex_precisions
      - dotc_batched_ex: *dot_ex_precisions
      - dot_strided_batched_ex: *dot_ex_precisions
      - dotc_strided_batched_ex: *dot_ex_precisions
      - scal:  *single_double_precisions_complex_real
      - scal:  *scal_single_double_complex_real_alpha_complex_out
      - scal_ex: *scal_ex_bfloat_half_single_double_complex_real_precisions
      - scal_ex: *scal_ex_single_double_complex_real_alpha_complex_out
      - scal_batched:  *single_double_precisions_complex_real
      - scal_batched:  *scal_single_double_complex_real_alpha_complex_out
      - scal_batched_ex: *scal_ex_bfloat_half_single_double_complex_real_precisions
      - scal_batched_ex: *scal_ex_single_double_complex_real_alpha_complex_out
      - scal_strided_batched:  *single_double_precisions_complex_real
      - scal_strided_batched:  *scal_single_double_complex_real_alpha_complex_out
      - scal_strided_batched_ex: *scal_ex_bfloat_half_single_double_complex_real_precisions
      - scal_strided_batched_ex: *scal_ex_single_double_complex_real_alpha_complex_out
      - swap:  *single_double_precisions_complex_real
      - swap_batched:  *single_double_precisions_complex_real
      - swap_strided_batched:  *single_double_precisions_complex_real

      #TODO: - Tests bypass the unit_check_general in ROTG,ROTMG,ROTM when NaN is input for alpha as this is not expected

      - rot:   *rot_precisions
      - rot_ex: *rot_ex_precisions
      - rotm:  *single_double_precisions
      - rotmg: *single_double_precisions
      - rot_batched:   *rot_precisions
      - rot_batched_ex: *rot_ex_precisions
      - rotm_batched:  *single_double_precisions
      - rotmg_batched: *single_double_precisions
      - rot_strided_batched:   *rot_precisions
      - rot_strided_batched_ex: *rot_ex_precisions
      - rotm_strided_batched:  *single_double_precisions
      - rotmg_strided_batched: *single_double_precisions

  - name: blas1_graph_test
    category: pre_checkin
    N: [ 20000 ]
    batch_count: [ 3 ]
    incx: [ 1 ]
    incy: [ 1 ]
    alpha: [ 1 ]
    stride_scale: [ 1 ]
    graph_test: true
    function:
      - nrm2:  *single_double_precisions_complex_real
      - nrm2_batched:  *single_double_precisions_complex_real
      - nrm2_strided_batched:  *single_double_precisions_complex_real
      - nrm2_ex:  *nrm2_ex_precisions
      - nrm2_batched_ex:  *nrm2_ex_precisions
      - nrm2_strided_batched_ex:  *nrm2_ex_precisions
      - asum:  *single_double_precisions_complex_real
      - asum_batched:  *single_double_precisions_complex_real
      - asum_strided_batched:  *single_double_precisions_complex_real
      - iamax: *single_double_precisions_complex_real
      - iamax_batched: *single_double_precisions_complex_real
      - iamax_strided_batched: *single_double_precisions_complex_real
      - iamin: *single_double_precisions_complex_real
      - iamin_batched: *single_double_precisions_complex_real
      - iamin_strided_batched: *single_double_precisions_complex_real
      - axpy:  *half_single_precisions_complex_real
      - axpy_batched: *half_single_precisions_complex_real
      - axpy_strided_batched: *half_single_precisions_complex_real
      - axpy_ex: *bfloat_half_single_double_complex_real_precisions
      - axpy_batched_ex: *bfloat_half_single_double_complex_real_precisions
      - axpy_strided_batched_ex: *bfloat_half_single_double_complex_real_precisions
      - copy:  *single_double_precisions_complex_real
      - copy_batched:  *single_double_precisions_complex_real
      - copy_strided_batched:  *single_double_precisions_complex_real
      - dot:   *half_bfloat_single_double_complex_real_precisions
      - dot_batched:   *half_bfloat_single_double_complex_real_precisions
      - dot_strided_batched:   *half_bfloat_single_double_complex_real_precisions
      - dotc:  *single_double_precisions_complex
      - dotc_batched:   *half_bfloat_single_double_complex_real_precisions
      - dotc_strided_batched:   *half_bfloat_single_double_complex_real_precisions
      - dot_ex: *dot_ex_precisions
      - dot_batched_ex: *dot_ex_precisions
      - dot_strided_batched_ex: *dot_ex_precisions
      - dotc_ex: *dot_ex_precisions
      - dotc_batched_ex: *dot_ex_precisions
      - dotc_strided_batched_ex: *dot_ex_precisions
      - scal:  *single_double_precisions_complex_real
      - scal:  *scal_single_double_complex_real_alpha_complex_out
      - scal_batched:  *single_double_precisions_complex_real
      - scal_batched:  *scal_single_double_complex_real_alpha_complex_out
      - scal_strided_batched:  *single_double_precisions_complex_real
      - scal_strided_batched:  *scal_single_double_complex_real_alpha_complex_out
      - scal_ex: *single_double_precisions_complex_real
      - scal_batched_ex: *single_double_precisions_complex_real
      - scal_strided_batched_ex: *single_double_precisions_complex_real
      - swap:  *single_double_precisions_complex_real
      - swap_batched:  *single_double_precisions_complex_real
      - swap_strided_batched:  *single_double_precisions_complex_real
      - rot:   *rot_precisions
      - rot_ex: *rot_ex_precisions
      - rotg:  *rotg_precisions
      - rotm:  *single_double_precisions
      - rotmg: *single_double_precisions
      - rot_batched:   *rot_precisions
      - rot_batched_ex: *rot_ex_precisions
      - rotg_batched:  *rotg_precisions
      - rotm_batched:  *single_double_precisions
      - rotmg_batched: *single_double_precisions
      - rot_strided_batched:   *rot_precisions
      - rotg_strided_batched:  *rotg_precisions
      - rotm_strided_batched:  *single_double_precisions
      - rotmg_strided_batched: *single_double_precisions

  - name: blas1_repeatability_check
    category: stress
    N: *N_range
    batch_count: [2]
    stride_scale: [ 1 ]
    alpha_beta: *alpha_beta_range_small
    incx_incy: *incx_incy_range_small
    initialization: hpl
    iters: 5
    pointer_mode_host: false
    repeatability_check: true
    atomics_mode: 0
    function:
       - nrm2:  *single_double_precisions_complex_real
       - nrm2_batched:  *single_double_precisions_complex_real
       - nrm2_strided_batched:  *single_double_precisions_complex_real
       - nrm2_ex:  *nrm2_ex_precisions
       - nrm2_batched_ex:  *nrm2_ex_precisions
       - nrm2_strided_batched_ex:  *nrm2_ex_precisions
       - asum:  *single_double_precisions_complex_real
       - asum_batched:  *single_double_precisions_complex_real
       - asum_strided_batched:  *single_double_precisions_complex_real
       - iamax: *single_double_precisions_complex_real
       - iamax_batched: *single_double_precisions_complex_real
       - iamax_strided_batched: *single_double_precisions_complex_real
       - iamin: *single_double_precisions_complex_real
       - iamin_batched: *single_double_precisions_complex_real
       - iamin_strided_batched: *single_double_precisions_complex_real
       - axpy:  *half_single_precisions_complex_real
       - axpy_batched: *half_single_precisions_complex_real
       - axpy_strided_batched: *half_single_precisions_complex_real
       - axpy_ex: *bfloat_half_single_double_complex_real_precisions
       - axpy_batched_ex: *bfloat_half_single_double_complex_real_precisions
       - axpy_strided_batched_ex: *bfloat_half_single_double_complex_real_precisions
       - dot:   *half_bfloat_single_double_complex_real_precisions
       - dot_batched:   *half_bfloat_single_double_complex_real_precisions
       - dot_strided_batched:   *half_bfloat_single_double_complex_real_precisions
       - dotc:  *single_double_precisions_complex
       - dotc_batched:   *half_bfloat_single_double_complex_real_precisions
       - dotc_strided_batched:   *half_bfloat_single_double_complex_real_precisions
       - dot_ex: *half_bfloat_single_double_complex_real_precisions
       - dot_batched_ex: *half_bfloat_single_double_complex_real_precisions
       - dot_strided_batched_ex: *half_bfloat_single_double_complex_real_precisions
       - dotc_ex: *half_bfloat_single_double_complex_real_precisions
       - dotc_batched_ex: *half_bfloat_single_double_complex_real_precisions
       - dotc_strided_batched_ex: *half_bfloat_single_double_complex_real_precisions
       - scal:  *single_double_precisions_complex_real
       - scal:  *scal_single_double_complex_real_alpha_complex_out
       - scal_batched:  *single_double_precisions_complex_real
       - scal_batched:  *scal_single_double_complex_real_alpha_complex_out
       - scal_strided_batched:  *single_double_precisions_complex_real
       - scal_strided_batched:  *scal_single_double_complex_real_alpha_complex_out
       - scal_ex: *single_double_precisions_complex_real
       - scal_batched_ex: *single_double_precisions_complex_real
       - scal_strided_batched_ex: *single_double_precisions_complex_real
       - rot:   *rot_precisions
       - rot_ex: *rot_ex_precisions
       - rotg:  *rotg_precisions
       - rotm:  *single_double_precisions
       - rotmg: *single_double_precisions
       - rot_batched:   *rot_precisions
       - rot_batched_ex: *rot_ex_precisions
       - rotg_batched:  *rotg_precisions
       - rotm_batched:  *single_double_precisions
       - rotmg_batched: *single_double_precisions
       - rot_strided_batched:   *rot_precisions
       - rotg_strided_batched:  *rotg_precisions
       - rotm_strided_batched:  *single_double_precisions
       - rotmg_strided_batched: *single_double_precisions

...
